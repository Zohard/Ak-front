import T from"./DInSo1OZ.js";import{f as B,q as F,g as j,H as y,h as E,c as n,a as t,m as U,n as c,k as d,b as i,B as h,t as o,d as x,F as L,l as M,y as g,r as q,o as a,p as v,v as w,_ as D}from"./Bes98wj2.js";import{u as O}from"./DzvRhcSF.js";import"./DX7MLR6s.js";const P={class:"relative aspect-[3/4] overflow-hidden"},$={key:1,class:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center"},z={class:"absolute top-2 left-2"},H={key:2,class:"absolute top-2 right-2"},G={class:"flex items-center space-x-1 px-2 py-1 bg-black/70 backdrop-blur-sm rounded-md"},J={class:"text-white text-xs font-medium"},K={key:3,class:"absolute bottom-2 right-2"},Q={class:"px-2 py-1 text-xs font-medium text-white bg-black/70 backdrop-blur-sm rounded-md"},W={class:"p-4"},X={class:"font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200"},Y={class:"flex items-center justify-between mb-3 text-xs text-gray-500 dark:text-gray-400"},Z={key:0,class:"flex items-center"},ee={key:1,class:"truncate flex items-center max-w-[120px]"},te={class:"flex items-center justify-between text-xs"},se={key:0,class:"flex items-center space-x-1 text-gray-600 dark:text-gray-400"},oe={key:1,class:"flex items-center space-x-1"},ae={class:"flex items-center"},ne={class:"text-gray-600 dark:text-gray-400 ml-1"},re={key:0,class:"mt-3 pt-3 border-t border-gray-100 dark:border-gray-700"},ie={class:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2"},le={class:"absolute inset-x-0 bottom-0 p-4 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},ce={class:"flex items-center justify-between"},de=B({__name:"SeasonAnimeCard",props:{anime:{},showSynopsis:{type:Boolean,default:!1}},emits:["view"],setup(k,{emit:_}){const m=k,C=_,{getImageUrl:V}=O(),u=F(),l=j(!1),b=y(()=>m.anime.image?V(m.anime.image,"anime"):null),N=y(()=>{const e=m.anime.format||"TV",s={"Série TV":"bg-blue-500/90 text-white",TV:"bg-blue-500/90 text-white",Film:"bg-purple-500/90 text-white",ONA:"bg-green-500/90 text-white",OAV:"bg-orange-500/90 text-white"};return s[e]||s.TV}),f=e=>(e/1).toFixed(1),A=async()=>{if(!u.isAuthenticated){v("/login?redirect="+encodeURIComponent(w().fullPath));return}try{l.value=!l.value}catch(e){console.error("Error toggling favorite:",e),l.value=!l.value}},I=()=>{if(!u.isAuthenticated){v("/login?redirect="+encodeURIComponent(w().fullPath));return}console.log("Add to list:",m.anime.titre)},S=()=>{C("view",m.anime)};return E(async()=>{u.isAuthenticated}),(e,s)=>{const R=T,r=q("Icon");return a(),n("article",{class:"season-anime-card group bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-lg hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-300 overflow-hidden cursor-pointer",onClick:s[0]||(s[0]=p=>e.$emit("view",e.anime))},[t("div",P,[d(b)?(a(),U(R,{key:0,src:d(b),alt:e.anime.titre,width:300,height:400,"aspect-ratio":"3/4","container-class":"w-full h-full","image-class":"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300","placeholder-icon":"heroicons:film"},null,8,["src","alt"])):(a(),n("div",$,[i(r,{name:"heroicons:film",class:"w-16 h-16 text-gray-400"})])),t("div",z,[t("span",{class:h(["px-2 py-1 text-xs font-medium rounded-md backdrop-blur-sm",d(N)])},o(e.anime.format||"TV"),3)]),e.anime.moyenneNotes?(a(),n("div",H,[t("div",G,[i(r,{name:"heroicons:star-solid",class:"w-3 h-3 text-yellow-400"}),t("span",J,o(f(e.anime.moyenneNotes)),1)])])):c("",!0),e.anime.nbEp?(a(),n("div",K,[t("span",Q,o(e.anime.nbEp)+" ép. ",1)])):c("",!0),s[1]||(s[1]=t("div",{class:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1))]),t("div",W,[t("h3",X,o(e.anime.titre),1),t("div",Y,[e.anime.annee?(a(),n("span",Z,[i(r,{name:"heroicons:calendar",class:"w-3 h-3 mr-1"}),x(" "+o(e.anime.annee),1)])):c("",!0),e.anime.studio?(a(),n("span",ee,[i(r,{name:"heroicons:building-office",class:"w-3 h-3 mr-1 flex-shrink-0"}),x(" "+o(e.anime.studio),1)])):c("",!0)]),t("div",te,[e.anime.nbReviews?(a(),n("div",se,[i(r,{name:"heroicons:document-text",class:"w-3 h-3"}),t("span",null,o(e.anime.nbReviews)+" critique"+o(e.anime.nbReviews>1?"s":""),1)])):c("",!0),e.anime.moyenneNotes?(a(),n("div",oe,[t("div",ae,[(a(),n(L,null,M(5,p=>i(r,{key:p,name:"heroicons:star-solid",class:h(["w-3 h-3",p<=Math.round(e.anime.moyenneNotes/2)?"text-yellow-400":"text-gray-300 dark:text-gray-600"])},null,8,["class"])),64))]),t("span",ne,o(f(e.anime.moyenneNotes)),1)])):c("",!0)]),e.anime.synopsis&&e.showSynopsis?(a(),n("div",re,[t("p",ie,o(e.anime.synopsis),1)])):c("",!0)]),t("div",le,[t("div",ce,[t("button",{onClick:g(A,["stop"]),class:h(["flex items-center space-x-1 px-2 py-1 rounded-md text-xs font-medium transition-colors",d(l)?"bg-red-500 text-white":"bg-white/20 text-white hover:bg-red-500"])},[i(r,{name:d(l)?"heroicons:heart-solid":"heroicons:heart",class:"w-3 h-3"},null,8,["name"]),t("span",null,o(d(l)?"Retiré":"Favoris"),1)],2),t("button",{onClick:g(I,["stop"]),class:"flex items-center space-x-1 px-2 py-1 bg-white/20 text-white hover:bg-blue-500 rounded-md text-xs font-medium transition-colors"},[i(r,{name:"heroicons:plus",class:"w-3 h-3"}),s[2]||(s[2]=t("span",null,"Liste",-1))]),t("button",{onClick:g(S,["stop"]),class:"flex items-center space-x-1 px-2 py-1 bg-blue-500 text-white hover:bg-blue-600 rounded-md text-xs font-medium transition-colors"},[i(r,{name:"heroicons:eye",class:"w-3 h-3"}),s[3]||(s[3]=t("span",null,"Voir",-1))])])])])}}}),ge=D(de,[["__scopeId","data-v-4ac0e012"]]);export{ge as default};
