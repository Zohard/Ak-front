import{f as V,u as z,x as b,g as B,G as g,h as E,c as d,a as e,d as u,b as w,w as y,y as L,n as c,z as f,A as v,k as t,B as _,t as p,D as M,e as S,o as m}from"./CCeOfYC8.js";import{u as A}from"./Bz5mGwDj.js";import"./BJ2ClxiI.js";const I={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},N={class:"max-w-md w-full space-y-8"},q={class:"mt-2 text-center text-sm text-gray-600"},P={class:"space-y-4"},j=["disabled"],D={key:0,class:"mt-1 text-sm text-red-600"},F=["disabled"],U={key:0,class:"mt-1 text-sm text-red-600"},H={class:"flex items-center justify-between"},R={class:"flex items-center"},T=["disabled"],G={class:"text-sm"},O={key:0,class:"rounded-md bg-red-50 p-4"},$={class:"flex"},J={class:"ml-3"},K={class:"mt-2 text-sm text-red-700"},Q=["disabled"],W={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},se=V({__name:"login",setup(X){z({title:"Sign In - Reviews",meta:[{name:"description",content:"Sign in to your account to create and manage anime and manga reviews."}]});const{login:h,loading:i}=A(),a=b({email:"",password:"",remember:!1}),r=b({email:"",password:""}),l=B("");g(()=>a.email,()=>{r.email="",l.value=""}),g(()=>a.password,()=>{r.password="",l.value=""});const k=()=>{let o=!0;return r.email="",r.password="",l.value="",a.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(r.email="Please enter a valid email address",o=!1):(r.email="Email is required",o=!1),a.password||(r.password="Password is required",o=!1),o},C=async()=>{if(k())try{const o=await h(a);!o.success&&o.error&&(o.error.field?r[o.error.field]=o.error.message:l.value=o.error.message)}catch(o){l.value=o.message||"An unexpected error occurred"}};return E(()=>{document.getElementById("email")?.focus()}),(o,s)=>{const x=S;return m(),d("div",I,[e("div",N,[e("div",null,[s[5]||(s[5]=e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Sign in to your account ",-1)),e("p",q,[s[4]||(s[4]=u(" Or ",-1)),w(x,{to:"/auth/register",class:"font-medium text-blue-600 hover:text-blue-500 transition-colors"},{default:y(()=>s[3]||(s[3]=[u(" create a new account ",-1)])),_:1,__:[3]})])]),e("form",{class:"mt-8 space-y-6",onSubmit:L(C,["prevent"])},[e("div",P,[e("div",null,[s[6]||(s[6]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email address ",-1)),f(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=n=>t(a).email=n),name:"email",type:"email",autocomplete:"email",required:"",class:_(["mt-1 appearance-none relative block w-full px-3 py-2 border rounded-md placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",t(r).email?"border-red-300 text-red-900":"border-gray-300"]),placeholder:"Enter your email",disabled:t(i)},null,10,j),[[v,t(a).email]]),t(r).email?(m(),d("p",D,p(t(r).email),1)):c("",!0)]),e("div",null,[s[7]||(s[7]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Password ",-1)),f(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=n=>t(a).password=n),name:"password",type:"password",autocomplete:"current-password",required:"",class:_(["mt-1 appearance-none relative block w-full px-3 py-2 border rounded-md placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",t(r).password?"border-red-300 text-red-900":"border-gray-300"]),placeholder:"Enter your password",disabled:t(i)},null,10,F),[[v,t(a).password]]),t(r).password?(m(),d("p",U,p(t(r).password),1)):c("",!0)])]),e("div",H,[e("div",R,[f(e("input",{id:"remember","onUpdate:modelValue":s[2]||(s[2]=n=>t(a).remember=n),name:"remember",type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:t(i)},null,8,T),[[M,t(a).remember]]),s[8]||(s[8]=e("label",{for:"remember",class:"ml-2 block text-sm text-gray-900"}," Remember me ",-1))]),e("div",G,[w(x,{to:"/auth/forgot-password",class:"font-medium text-blue-600 hover:text-blue-500 transition-colors"},{default:y(()=>s[9]||(s[9]=[u(" Forgot your password? ",-1)])),_:1,__:[9]})])]),t(l)?(m(),d("div",O,[e("div",$,[s[11]||(s[11]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])],-1)),e("div",J,[s[10]||(s[10]=e("h3",{class:"text-sm font-medium text-red-800"}," Login Failed ",-1)),e("div",K,p(t(l)),1)])])])):c("",!0),e("div",null,[e("button",{type:"submit",disabled:t(i),class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[t(i)?(m(),d("span",W,s[12]||(s[12]=[e("svg",{class:"h-5 w-5 text-blue-300 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):c("",!0),u(" "+p(t(i)?"Signing in...":"Sign in"),1)],8,Q)])],32)])])}}});export{se as default};
