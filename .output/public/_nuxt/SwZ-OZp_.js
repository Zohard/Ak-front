import{v as A,j as F,u as x,U as N}from"./CCeOfYC8.js";const V=()=>{const l=F(),g=A(),P="AK9 - Anime & Manga Community",f="fr_FR",d=l.public.siteUrl||window.location.origin,b=t=>{const{title:r,description:i,keywords:a=[],image:c,type:u="website",author:y,publishedTime:S,modifiedTime:E,section:e,tags:n=[],url:o,siteName:s=P,locale:h=f,alternateLocales:w=[],noIndex:B=!1,noFollow:k=!1,canonical:U}=t,z=o||`${d}${g.fullPath}`,_=U||z,v=r.includes(s)?r:`${r} - ${s}`,m={title:v,description:i,ogTitle:v,ogDescription:i,ogType:u,ogUrl:z,ogSiteName:s,ogLocale:h,twitterCard:"summary_large_image",twitterTitle:v,twitterDescription:i,robots:`${B?"noindex":"index"}, ${k?"nofollow":"follow"}`,canonical:_,"og:locale":h};if(c){const T=c.startsWith("http")?c:`${d}${c}`;m.ogImage=T,m.twitterImage=T,m["og:image:alt"]=r}a.length>0&&(m.keywords=a.join(", ")),u==="article"&&(y&&(m["article:author"]=y),S&&(m["article:published_time"]=S),E&&(m["article:modified_time"]=E),e&&(m["article:section"]=e),n.length>0&&n.forEach((T,D)=>{m[`article:tag:${D}`]=T})),w.length>0&&w.forEach((T,D)=>{m[`og:locale:alternate:${D}`]=T}),N(m),u==="article"&&R({title:v,description:i,url:z,image:c,author:y,publishedTime:S,modifiedTime:E,keywords:n.length>0?n:a})},p=t=>{(Array.isArray(t)?t:[t]).forEach((i,a)=>{x({script:[{key:`structured-data-${a}`,type:"application/ld+json",innerHTML:JSON.stringify(i)}]})})},R=t=>{const r={"@context":"https://schema.org","@type":"Article",headline:t.title,description:t.description,url:t.url,datePublished:t.publishedTime,dateModified:t.modifiedTime||t.publishedTime,keywords:t.keywords?.join(", "),publisher:{"@type":"Organization",name:P,url:d}};t.image&&(r.image=t.image.startsWith("http")?t.image:`${d}${t.image}`),t.author&&(r.author={"@type":"Person",name:t.author}),p(r)};return{setPageSEO:b,addStructuredData:p,addArticleStructuredData:R,addBreadcrumbStructuredData:t=>{const r={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:t.map((i,a)=>({"@type":"ListItem",position:a+1,name:i.name,item:i.url.startsWith("http")?i.url:`${d}${i.url}`}))};p(r)},addReviewStructuredData:t=>{const r={"@context":"https://schema.org","@type":"Review",name:t.title,reviewBody:t.content,datePublished:t.datePublished,author:{"@type":"Person",name:t.author},reviewRating:{"@type":"Rating",ratingValue:t.rating,bestRating:t.maxRating,worstRating:1},itemReviewed:{"@type":t.itemReviewed.type,name:t.itemReviewed.name,image:t.itemReviewed.image,datePublished:t.itemReviewed.datePublished,genre:t.itemReviewed.genre,creator:t.itemReviewed.creator?{"@type":t.itemReviewed.type==="Book"?"Person":"Organization",name:t.itemReviewed.creator}:void 0}};p(r)},estimateReadingTime:t=>{const r=t.replace(/<[^>]*>/g,"").replace(/\[.*?\]/g,"").trim(),i=225,a=r.split(/\s+/).length,c=Math.ceil(a/i);return Math.max(1,c)},formatReadingTime:t=>t<1?"< 1 min":t===1?"1 min":`${t} min`,generateImageAlt:(t,r)=>r?`${t} - ${r}`:t,optimizeImageUrl:(t,r,i,a=85)=>{if(t.startsWith("http"))return t;let c=t;if(r||i||a!==85){const u=new URLSearchParams;r&&u.set("w",r.toString()),i&&u.set("h",i.toString()),a!==85&&u.set("q",a.toString()),c+=`?${u.toString()}`}return c}}},j=()=>{const l=typeof window<"u",g=()=>{if(!l)return null;const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return e?e.effectiveType||e.type||"unknown":null},P=()=>l&&performance.memory||null,f=()=>{if(!l||!performance.getEntriesByType)return null;const e=performance.getEntriesByType("navigation");return e.length>0?e[0]:null},d=()=>!l||!performance.getEntriesByType?[]:performance.getEntriesByType("paint"),b=e=>{if(!l||!performance.getEntriesByType)return[];const n=performance.getEntriesByType("resource");return e?n.filter(o=>o.name.includes(e)):n},p=()=>new Promise(e=>{if(!l||!("PerformanceObserver"in window)){e(null);return}try{const n=new PerformanceObserver(o=>{const s=o.getEntries();if(s.length>0){const h=s[s.length-1];e(h),n.disconnect()}});n.observe({entryTypes:["largest-contentful-paint"]}),setTimeout(()=>{n.disconnect(),e(null)},1e4)}catch(n){console.warn("LCP observation failed:",n),e(null)}}),R=()=>new Promise(e=>{if(!l||!("PerformanceObserver"in window)){e(null);return}try{const n=new PerformanceObserver(o=>{const s=o.getEntries();s.length>0&&(e(s[0]),n.disconnect())});n.observe({entryTypes:["first-input"]}),setTimeout(()=>{n.disconnect(),e(null)},3e4)}catch(n){console.warn("FID observation failed:",n),e(null)}}),O=()=>new Promise(e=>{if(!l||!("PerformanceObserver"in window)){e(0);return}let n=0;const o=[];try{const s=new PerformanceObserver(h=>{for(const w of h.getEntries())w.hadRecentInput||(o.push(w),n+=w.value)});s.observe({entryTypes:["layout-shift"]}),setTimeout(()=>{s.disconnect(),e(n)},1e4)}catch(s){console.warn("CLS observation failed:",s),e(0)}}),C=async()=>({connectionType:g(),memoryInfo:P(),navigationTiming:f(),paintTiming:d(),resourceTiming:b()}),L=async()=>{const[e,n,o]=await Promise.all([p(),R(),O()]);return{lcp:e?e.startTime:null,fid:n?n.processingStart-n.startTime:null,cls:o}},M=e=>{const n=b(e);if(n.length===0)return null;const o=n[0];return o.responseEnd-o.startTime},I=()=>{const e=f();return e?e.loadEventEnd-e.fetchStart:null},$=()=>{const e=f();return e?e.domContentLoadedEventEnd-e.fetchStart:null},t=()=>{const n=d().find(o=>o.name==="first-paint");return n?n.startTime:null},r=()=>{const n=d().find(o=>o.name==="first-contentful-paint");return n?n.startTime:null},i=()=>{const e=g();return e==="slow-2g"||e==="2g"},a=()=>i(),c=()=>{switch(g()){case"slow-2g":case"2g":return{small:300,medium:600,large:900};case"3g":return{small:400,medium:800,large:1200};case"4g":default:return{small:500,medium:1e3,large:1600}}},u=()=>{const e=g();return e==="4g"||e===null},y=()=>{switch(g()){case"slow-2g":case"2g":return"small";case"3g":return"medium";case"4g":default:return"large"}};return{getAllMetrics:C,getCoreWebVitals:L,measureResourceLoadTime:M,measurePageLoadTime:I,measureDOMContentLoadedTime:$,measureFirstPaint:t,measureFirstContentfulPaint:r,getConnectionInfo:g,isSlowConnection:i,shouldOptimizeForSlowConnection:a,getOptimizedImageSizes:c,shouldPreloadImages:u,getRecommendedChunkSize:y,monitorPerformance:()=>{l&&setTimeout(async()=>{const e=await C(),n=await L();console.group("üîç Performance Metrics"),console.log("Navigation Timing:",{pageLoad:I(),domContentLoaded:$(),firstPaint:t(),firstContentfulPaint:r()}),console.log("Core Web Vitals:",n),console.log("Connection:",e.connectionType),console.log("Memory:",e.memoryInfo),console.groupEnd(),typeof gtag<"u"&&gtag("event","page_timing",{custom_map:{metric1:"page_load_time",metric2:"first_contentful_paint"}})},1e3)},optimizeForConnection:()=>{if(!l)return{};const e=g(),n=i();return{shouldLazyLoad:!0,shouldPreloadImages:u(),imageSizes:c(),chunkSize:y(),reducedAnimations:n,deferNonCriticalScripts:n,connectionType:e}},getMemoryInfo:P,getNavigationTiming:f,getPaintTiming:d,getResourceTiming:b}};export{j as a,V as u};
