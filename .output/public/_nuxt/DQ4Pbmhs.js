import N from"./2MIT5xPl.js";import{u as R}from"./B9jFdIe5.js";import{f as B,H as n,c as o,a as e,n as u,m as T,k as t,b as d,r as S,B as j,t as i,d as E,p as q,o as s,_ as U}from"./CCeOfYC8.js";import"./SwZ-OZp_.js";const F={class:"review-media-card bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},z={class:"relative aspect-[15/14]"},D={key:1,class:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center"},G={key:2,class:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center opacity-0 hover:opacity-100"},H={class:"p-4"},Y={class:"text-lg font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2"},$={class:"space-y-2 text-sm text-gray-600 dark:text-gray-400"},J={key:0,class:"flex items-center space-x-1"},K={key:1,class:"flex items-center space-x-1"},L={key:2,class:"flex items-center space-x-1"},O={key:3,class:"flex items-center space-x-1"},P={key:4,class:"flex items-center space-x-2"},Q={class:"text-xs text-gray-500 dark:text-gray-400"},W={key:0,class:"mt-4 space-y-2"},X={key:0,class:"px-4 pb-4 border-t border-gray-200 dark:border-gray-700 pt-4"},Z={class:"grid grid-cols-2 gap-4 text-center text-sm"},ee={class:"font-semibold text-gray-900 dark:text-white"},te={class:"font-semibold text-gray-900 dark:text-white"},ae=B({__name:"ReviewMediaCard",props:{review:{},showActions:{type:Boolean,default:!1},showStats:{type:Boolean,default:!1}},emits:["view-media","view-all-reviews"],setup(_,{emit:C}){const a=_,g=C,{getImageUrl:V}=R(),m=n(()=>a.review.idManga&&a.review.idManga>0?"manga":"anime"),p=n(()=>a.review.manga?.titre?a.review.manga.titre:a.review.anime?.titre?a.review.anime.titre:m.value==="manga"?"Manga":"Anime"),v=n(()=>{const l=a.review.manga?.image||a.review.anime?.image;return l?V(l,m.value):null}),w=n(()=>a.review.anime?.annee||a.review.manga?.annee||null),y=n(()=>a.review.anime?.nbEp||null),h=n(()=>a.review.manga?.nbVolumes||null),b=n(()=>a.review.anime?.studio||a.review.manga?.auteur||null),x=n(()=>a.review.anime?.moyenneNotes||a.review.manga?.moyenneNotes||null),f=n(()=>a.review.anime?.nbReviews||a.review.manga?.nbReviews||0),I=n(()=>0),k=()=>{g("view-media")},A=()=>{const l=a.review.manga?.titre||a.review.anime?.titre;l&&q(`/reviews?search=${encodeURIComponent(l)}`),g("view-all-reviews")};return(l,r)=>{const M=N,c=S("Icon");return s(),o("div",F,[e("div",z,[t(v)?(s(),T(M,{key:0,src:t(v),alt:t(p),"aspect-ratio":"15/14","container-class":"w-full h-full","placeholder-icon":t(m)==="manga"?"heroicons:book-open":"heroicons:film"},null,8,["src","alt","placeholder-icon"])):(s(),o("div",D,[d(c,{name:t(m)==="manga"?"heroicons:book-open":"heroicons:film",class:"w-16 h-16 text-gray-400"},null,8,["name"])])),e("div",{class:j(["absolute top-3 right-3 px-2 py-1 text-xs font-semibold rounded-full border",t(m)==="manga"?"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800":"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800"])},i(t(m)==="manga"?"MANGA":"ANIME"),3),l.showActions?(s(),o("div",G,[e("button",{onClick:k,class:"px-6 py-2.5 bg-white text-gray-900 rounded-full font-medium shadow-xl transform scale-95 hover:scale-100 transition-all duration-200 hover:bg-gray-50"},[d(c,{name:"heroicons:eye",class:"w-4 h-4 inline mr-2"}),r[0]||(r[0]=E(" Voir la fiche ",-1))])])):u("",!0)]),e("div",H,[e("h3",Y,i(t(p)),1),e("div",$,[t(w)?(s(),o("div",J,[d(c,{name:"heroicons:calendar",class:"w-4 h-4"}),e("span",null,i(t(w)),1)])):u("",!0),t(y)&&t(m)==="anime"?(s(),o("div",K,[d(c,{name:"heroicons:play",class:"w-4 h-4"}),e("span",null,i(t(y))+" épisodes",1)])):u("",!0),t(h)&&t(m)==="manga"?(s(),o("div",L,[d(c,{name:"heroicons:book-open",class:"w-4 h-4"}),e("span",null,i(t(h))+" volumes",1)])):u("",!0),t(b)?(s(),o("div",O,[d(c,{name:"heroicons:building-office",class:"w-4 h-4"}),e("span",null,i(t(b)),1)])):u("",!0),t(x)?(s(),o("div",P,[d(c,{name:"heroicons:star",class:"w-4 h-4 text-yellow-400"}),e("span",null,i(t(x))+"/10",1),e("span",Q," ("+i(t(f))+" critiques) ",1)])):u("",!0)]),l.showActions?(s(),o("div",W,[e("button",{onClick:k,class:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},[d(c,{name:"heroicons:eye",class:"w-4 h-4"}),r[1]||(r[1]=e("span",null,"Voir la fiche complète",-1))]),e("button",{onClick:A,class:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"},[d(c,{name:"heroicons:document-text",class:"w-4 h-4"}),r[2]||(r[2]=e("span",null,"Toutes les critiques",-1))])])):u("",!0)]),l.showStats?(s(),o("div",X,[e("div",Z,[e("div",null,[e("div",ee,i(t(f)||0),1),r[3]||(r[3]=e("div",{class:"text-gray-500 dark:text-gray-400"},"Critiques",-1))]),e("div",null,[e("div",te,i(t(I)||0),1),r[4]||(r[4]=e("div",{class:"text-gray-500 dark:text-gray-400"},"Fans",-1))])])])):u("",!0)])}}}),ie=U(ae,[["__scopeId","data-v-bb9d4783"]]);export{ie as default};
