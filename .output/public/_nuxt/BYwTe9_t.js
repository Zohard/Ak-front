import{g as p,G as d,k as b}from"./CCeOfYC8.js";function s(t){return typeof t=="function"?t():b(t)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const f=()=>{};function h(t,n){function r(...e){return new Promise((o,i)=>{Promise.resolve(t(()=>n.apply(this,e),{fn:n,thisArg:this,args:e})).then(o).catch(i)})}return r}function T(t,n={}){let r,e,o=f;const i=u=>{clearTimeout(u),o(),o=f};return u=>{const l=s(t),c=s(n.maxWait);return r&&i(r),l<=0||c!==void 0&&c<=0?(e&&(i(e),e=null),Promise.resolve(u())):new Promise((a,m)=>{o=n.rejectOnCancel?m:a,c&&!e&&(e=setTimeout(()=>{r&&i(r),e=null,a(u())},c)),r=setTimeout(()=>{e&&i(e),e=null,a(u())},l)})}}function w(t,n=200,r={}){return h(T(n,r),t)}function W(t,n=200,r={}){const e=p(t.value),o=w(()=>{e.value=t.value},n,r);return d(t,()=>o()),e}export{W as r,w as u};
