import I from"./2MIT5xPl.js";import{f as N,H as m,c as l,a as t,m as D,k as c,b as s,d as u,t as r,n as g,w as V,p as j,e as U,o as n,r as A,_ as B}from"./CCeOfYC8.js";import{u as S}from"./B9jFdIe5.js";import"./SwZ-OZp_.js";const L={class:"article-card group relative bg-white dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 dark:border-gray-700"},$={class:"relative aspect-[16/6.3] overflow-hidden"},E={key:1,class:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center"},T={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 motion-reduce:transition-none flex items-center justify-center opacity-0 group-hover:opacity-100"},F={class:"absolute top-3 right-3 px-2 py-1 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-md text-xs font-medium text-gray-700 dark:text-gray-300"},H={class:"p-6 flex flex-col h-full"},M={class:"mb-3"},O={key:0,class:"inline-flex items-center px-3 py-1 text-xs font-medium text-blue-700 bg-blue-50 dark:bg-blue-900/30 dark:text-blue-300 rounded-full border border-blue-200 dark:border-blue-800"},R={class:"article-card-title text-xl font-bold text-gray-900 dark:text-white mb-3 line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200 leading-tight"},q={class:"text-sm text-gray-600 dark:text-gray-300 mb-4 flex-grow"},z={key:0,class:"line-clamp-2 mb-3 font-medium text-gray-700 dark:text-gray-200"},G={key:1,class:"line-clamp-4 text-sm text-gray-600 dark:text-gray-400 leading-relaxed"},J={class:"pt-4 border-t border-gray-100 dark:border-gray-700"},K={class:"flex items-center justify-between text-sm"},P={class:"flex items-center space-x-2"},Q={class:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-medium text-xs"},W={class:"font-medium text-gray-900 dark:text-white"},X={class:"flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400"},Y={class:"flex items-center space-x-1",title:"Vues"},Z={class:"flex items-center space-x-1",title:"Commentaires"},ee=N({__name:"ArticleCard",props:{article:{}},emits:["view"],setup(f,{emit:x}){const o=f,_=x,{getArticleImageUrl:y}=S(),p=m(()=>{const e=o.article.imgunebig||o.article.img;return e?y(e):null}),h=m(()=>`/articles/${o.article.niceUrl}`),b=m(()=>{if(!o.article.texte)return"";let e=o.article.texte.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&[^;]+;/g,"").trim();if(e.length>150){const a=e.substring(0,150),d=a.lastIndexOf(" ");e=(d>100?a.substring(0,d):a)+"..."}return e}),v=e=>e?new Date(e).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):"",k=e=>e>=1e3?Math.floor(e/1e3)+"k":e.toString(),w=()=>{j(h.value),_("view",o.article)};return(e,a)=>{const d=I,i=A("Icon"),C=U;return n(),l("article",L,[t("div",$,[c(p)?(n(),D(d,{key:0,src:c(p),alt:e.article.titre,"aspect-ratio":"16/6.3","container-class":"w-full h-full","image-class":"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 motion-reduce:transition-none motion-reduce:transform-none","placeholder-icon":"heroicons:newspaper"},null,8,["src","alt"])):(n(),l("div",E,[s(i,{name:"heroicons:newspaper",class:"w-16 h-16 text-gray-400"})])),t("div",T,[t("button",{onClick:w,class:"px-7 py-3 bg-white text-gray-900 rounded-full font-medium shadow-xl transform scale-95 group-hover:scale-100 transition-all duration-200 hover:bg-gray-50"},[s(i,{name:"heroicons:eye",class:"w-4 h-4 inline mr-2"}),a[0]||(a[0]=u(" Lire l'article ",-1))])]),t("div",F,r(v(e.article.date)),1)]),t("div",H,[t("div",M,[e.article.categories&&e.article.categories.length>0&&e.article.categories[0]?(n(),l("span",O,[s(i,{name:"heroicons:tag",class:"w-3 h-3 mr-1"}),u(" "+r(e.article.categories[0].name),1)])):g("",!0)]),t("h3",R,[s(C,{to:c(h),class:"hover:underline"},{default:V(()=>[u(r(e.article.titre),1)]),_:1},8,["to"])]),t("div",q,[e.article.metaDescription?(n(),l("p",z,r(e.article.metaDescription),1)):g("",!0),c(b)?(n(),l("div",G,r(c(b)),1)):g("",!0)]),t("div",J,[t("div",K,[t("div",P,[t("div",Q,r((e.article.author?.memberName||"A")[0].toUpperCase()),1),t("div",null,[t("p",W,r(e.article.author?.memberName||"Auteur"),1)])]),t("div",X,[t("div",Y,[s(i,{name:"heroicons:eye",class:"w-4 h-4"}),t("span",null,r(k(e.article.nbClics)),1)]),t("div",Z,[s(i,{name:"heroicons:chat-bubble-left",class:"w-4 h-4"}),t("span",null,r(e.article.commentCount||0),1)])])])])])])}}}),se=B(ee,[["__scopeId","data-v-a6bbeb0c"]]);export{se as default};
