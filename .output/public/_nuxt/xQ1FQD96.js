import{f as w,u as E,x as v,g as x,c as i,a as e,n as m,k as s,b as f,y as V,z,A,B as S,t as p,d as _,m as B,w as C,e as N,r as I,o as r,q as M,_ as R}from"./CCeOfYC8.js";import{_ as j}from"./anZNCGfT.js";const q={class:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8"},K={class:"max-w-md w-full space-y-8"},U={class:"mx-auto h-12 w-12 flex items-center justify-center"},D={key:0,class:"rounded-md bg-green-50 dark:bg-green-900/20 p-4"},F={class:"flex"},L={class:"flex-shrink-0"},P={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},T={key:0,class:"rounded-md bg-red-50 dark:bg-red-900/20 p-4"},H={class:"flex"},$={class:"flex-shrink-0"},G={class:"ml-3"},J={class:"mt-2 text-sm text-red-700 dark:text-red-300"},O=["disabled"],Q={class:"absolute left-0 inset-y-0 flex items-center pl-3"},W={key:0,class:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"},X={class:"text-center"},Y=w({__name:"forgot-password",setup(Z){E({title:"Mot de passe oublié - Anime-Kun",meta:[{name:"description",content:"Réinitialisez votre mot de passe Anime-Kun"}]});const n=v({email:""}),l=x(!1),c=x(!1),d=x(""),o=v({email:""}),g=()=>(o.email="",n.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?!0:(o.email="Format d'email invalide",!1):(o.email="L'adresse email est requise",!1)),b=async()=>{if(g()){l.value=!0,d.value="";try{await M().forgotPassword(n.email),c.value=!0}catch(a){d.value=a.message||"Une erreur est survenue. Veuillez réessayer."}finally{l.value=!1}}},h=a=>{a.target.style.display="none"};return(a,t)=>{const u=I("Icon"),y=N;return r(),i("div",q,[e("div",K,[e("div",null,[e("div",U,[e("img",{src:j,alt:"Anime-Kun",class:"h-12 w-12",onError:h},null,32)]),t[1]||(t[1]=e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white"}," Mot de passe oublié ",-1)),t[2]||(t[2]=e("p",{class:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400"}," Entrez votre adresse email pour recevoir un lien de réinitialisation ",-1))]),s(c)?(r(),i("div",D,[e("div",F,[e("div",L,[f(u,{name:"heroicons:check-circle",class:"h-5 w-5 text-green-400"})]),t[3]||(t[3]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-green-800 dark:text-green-200"}," Email envoyé avec succès "),e("div",{class:"mt-2 text-sm text-green-700 dark:text-green-300"}," Un lien de réinitialisation a été envoyé à votre adresse email. Vérifiez votre boîte de réception et vos spams. ")],-1))])])):m("",!0),s(c)?m("",!0):(r(),i("form",{key:1,class:"mt-8 space-y-6",onSubmit:V(b,["prevent"])},[e("div",null,[t[4]||(t[4]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Adresse email ",-1)),z(e("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=k=>s(n).email=k),name:"email",type:"email",autocomplete:"email",required:"",class:S(["form-input",{"border-red-500":s(o).email}]),placeholder:"votre@email.com"},null,2),[[A,s(n).email]]),s(o).email?(r(),i("p",P,p(s(o).email),1)):m("",!0)]),s(d)?(r(),i("div",T,[e("div",H,[e("div",$,[f(u,{name:"heroicons:exclamation-triangle",class:"h-5 w-5 text-red-400"})]),e("div",G,[t[5]||(t[5]=e("h3",{class:"text-sm font-medium text-red-800 dark:text-red-200"}," Erreur ",-1)),e("div",J,p(s(d)),1)])])])):m("",!0),e("div",null,[e("button",{type:"submit",disabled:s(l),class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[e("span",Q,[s(l)?(r(),i("div",W)):(r(),B(u,{key:1,name:"heroicons:envelope",class:"h-5 w-5 text-blue-500 group-hover:text-blue-400"}))]),_(" "+p(s(l)?"Envoi...":"Envoyer le lien"),1)],8,O)]),e("div",X,[f(y,{to:"/login",class:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300"},{default:C(()=>t[6]||(t[6]=[_(" Retour à la connexion ",-1)])),_:1,__:[6]})])],32))])])}}}),se=R(Y,[["__scopeId","data-v-903b474e"]]);export{se as default};
