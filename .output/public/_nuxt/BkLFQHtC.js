import{f as B,g as F,x as P,H as U,G as O,c as d,a as t,n as p,z as u,b as r,d as i,r as A,A as w,k as s,K as x,E as k,D as R,t as c,o as m,_ as M}from"./CCeOfYC8.js";import{u as S}from"./BYwTe9_t.js";const I={class:"review-filters bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},j={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4"},D={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},E=["placeholder"],$={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},q={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},z={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},G={key:0,class:"border-t border-gray-200 dark:border-gray-700 pt-4"},H={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},K={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},J={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},L={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Q={class:"flex flex-wrap items-center justify-between gap-4"},W={class:"flex items-center space-x-4"},X={class:"flex items-center space-x-2"},Y={class:"flex items-center space-x-4"},Z={class:"text-sm text-gray-500 dark:text-gray-400"},_={key:1,class:"mt-4 flex flex-wrap gap-2"},ee={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"},te={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300"},oe={key:2,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"},se=B({__name:"ReviewFilters",props:{filters:{},resultsCount:{default:0},searchPlaceholder:{default:"Titre, contenu, anime..."},showSavePreset:{type:Boolean,default:!1}},emits:["update:filters","clear","save-preset"],setup(C,{emit:V}){const h=C,y=V,g=F(!1),o=P({...h.filters}),f=U(()=>o.search||o.type||o.minNotation||o.sortBy!=="dateCritique"||o.author||o.dateRange||o.minViews),l=()=>{y("update:filters",{...o})},b=S(()=>{l()},500),N=()=>{Object.assign(o,{search:"",type:"",minNotation:"",sortBy:"dateCritique",sortOrder:!1,author:"",dateRange:"",minViews:""}),y("clear"),l()},T=()=>{y("save-preset",{...o})};return O(()=>h.filters,v=>{Object.assign(o,v)},{deep:!0}),(v,e)=>{const a=A("Icon");return m(),d("div",I,[t("div",j,[t("div",null,[t("label",D,[r(a,{name:"heroicons:magnifying-glass",class:"w-4 h-4 inline mr-1"}),e[14]||(e[14]=i(" Recherche ",-1))]),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>s(o).search=n),type:"text",placeholder:v.searchPlaceholder,class:"form-input",onInput:e[1]||(e[1]=(...n)=>s(b)&&s(b)(...n))},null,40,E),[[w,s(o).search]])]),t("div",null,[t("label",$,[r(a,{name:"heroicons:funnel",class:"w-4 h-4 inline mr-1"}),e[15]||(e[15]=i(" Type ",-1))]),u(t("select",{"onUpdate:modelValue":e[2]||(e[2]=n=>s(o).type=n),class:"form-input",onChange:l},e[16]||(e[16]=[t("option",{value:""},"Tous",-1),t("option",{value:"anime"},"Animes",-1),t("option",{value:"manga"},"Mangas",-1)]),544),[[x,s(o).type]])]),t("div",null,[t("label",q,[r(a,{name:"heroicons:star",class:"w-4 h-4 inline mr-1"}),e[17]||(e[17]=i(" Note minimum ",-1))]),u(t("select",{"onUpdate:modelValue":e[3]||(e[3]=n=>s(o).minNotation=n),class:"form-input",onChange:l},e[18]||(e[18]=[k('<option value="" data-v-3de8a147>Toutes</option><option value="9" data-v-3de8a147>Excellent (9-10)</option><option value="8" data-v-3de8a147>Très bien (8-9)</option><option value="7" data-v-3de8a147>Bien (7-8)</option><option value="6" data-v-3de8a147>Correct (6-7)</option><option value="5" data-v-3de8a147>Moyen (5-6)</option>',6)]),544),[[x,s(o).minNotation]])]),t("div",null,[t("label",z,[r(a,{name:"heroicons:bars-arrow-down",class:"w-4 h-4 inline mr-1"}),e[19]||(e[19]=i(" Trier par ",-1))]),u(t("select",{"onUpdate:modelValue":e[4]||(e[4]=n=>s(o).sortBy=n),class:"form-input",onChange:l},e[20]||(e[20]=[t("option",{value:"dateCritique"},"Plus récentes",-1),t("option",{value:"notation"},"Note",-1),t("option",{value:"nbClics"},"Popularité",-1),t("option",{value:"titre"},"Titre",-1)]),544),[[x,s(o).sortBy]])])]),s(g)?(m(),d("div",G,[t("div",H,[t("div",null,[t("label",K,[r(a,{name:"heroicons:user",class:"w-4 h-4 inline mr-1"}),e[21]||(e[21]=i(" Auteur ",-1))]),u(t("input",{"onUpdate:modelValue":e[5]||(e[5]=n=>s(o).author=n),type:"text",placeholder:"Nom d'utilisateur...",class:"form-input",onInput:e[6]||(e[6]=(...n)=>s(b)&&s(b)(...n))},null,544),[[w,s(o).author]])]),t("div",null,[t("label",J,[r(a,{name:"heroicons:calendar",class:"w-4 h-4 inline mr-1"}),e[22]||(e[22]=i(" Période ",-1))]),u(t("select",{"onUpdate:modelValue":e[7]||(e[7]=n=>s(o).dateRange=n),class:"form-input",onChange:l},e[23]||(e[23]=[k('<option value="" data-v-3de8a147>Toutes</option><option value="today" data-v-3de8a147>Aujourd&#39;hui</option><option value="week" data-v-3de8a147>Cette semaine</option><option value="month" data-v-3de8a147>Ce mois</option><option value="year" data-v-3de8a147>Cette année</option>',5)]),544),[[x,s(o).dateRange]])]),t("div",null,[t("label",L,[r(a,{name:"heroicons:eye",class:"w-4 h-4 inline mr-1"}),e[24]||(e[24]=i(" Popularité min. ",-1))]),u(t("select",{"onUpdate:modelValue":e[8]||(e[8]=n=>s(o).minViews=n),class:"form-input",onChange:l},e[25]||(e[25]=[k('<option value="" data-v-3de8a147>Toutes</option><option value="100" data-v-3de8a147>100+ vues</option><option value="500" data-v-3de8a147>500+ vues</option><option value="1000" data-v-3de8a147>1000+ vues</option><option value="5000" data-v-3de8a147>5000+ vues</option>',5)]),544),[[x,s(o).minViews]])])])])):p("",!0),t("div",Q,[t("div",W,[t("div",X,[u(t("input",{id:"sortOrder","onUpdate:modelValue":e[9]||(e[9]=n=>s(o).sortOrder=n),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",onChange:l},null,544),[[R,s(o).sortOrder]]),e[26]||(e[26]=t("label",{for:"sortOrder",class:"text-sm text-gray-700 dark:text-gray-300"}," Ordre décroissant ",-1))]),t("button",{onClick:e[10]||(e[10]=n=>g.value=!s(g)),class:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 flex items-center space-x-1"},[r(a,{name:s(g)?"heroicons:chevron-up":"heroicons:chevron-down",class:"w-4 h-4"},null,8,["name"]),e[27]||(e[27]=t("span",null,"Filtres avancés",-1))])]),t("div",Y,[t("div",Z,[r(a,{name:"heroicons:document-text",class:"w-4 h-4 inline mr-1"}),i(" "+c(v.resultsCount)+" résultat"+c(v.resultsCount!==1?"s":""),1)]),s(f)?(m(),d("button",{key:0,onClick:N,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 flex items-center space-x-1"},[r(a,{name:"heroicons:x-mark",class:"w-4 h-4"}),e[28]||(e[28]=t("span",null,"Effacer",-1))])):p("",!0),s(f)&&v.showSavePreset?(m(),d("button",{key:1,onClick:T,class:"text-sm text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 flex items-center space-x-1"},[r(a,{name:"heroicons:bookmark",class:"w-4 h-4"}),e[29]||(e[29]=t("span",null,"Sauvegarder",-1))])):p("",!0)])]),s(f)?(m(),d("div",_,[s(o).search?(m(),d("div",ee,[r(a,{name:"heroicons:magnifying-glass",class:"w-3 h-3 mr-1"}),i(' "'+c(s(o).search)+'" ',1),t("button",{onClick:e[11]||(e[11]=n=>{s(o).search="",l()}),class:"ml-1 hover:text-blue-600"},[r(a,{name:"heroicons:x-mark",class:"w-3 h-3"})])])):p("",!0),s(o).type?(m(),d("div",te,[r(a,{name:s(o).type==="anime"?"heroicons:film":"heroicons:book-open",class:"w-3 h-3 mr-1"},null,8,["name"]),i(" "+c(s(o).type==="anime"?"Animes":"Mangas")+" ",1),t("button",{onClick:e[12]||(e[12]=n=>{s(o).type="",l()}),class:"ml-1 hover:text-purple-600"},[r(a,{name:"heroicons:x-mark",class:"w-3 h-3"})])])):p("",!0),s(o).minNotation?(m(),d("div",oe,[r(a,{name:"heroicons:star",class:"w-3 h-3 mr-1"}),i(" "+c(s(o).minNotation)+"+ ⭐ ",1),t("button",{onClick:e[13]||(e[13]=n=>{s(o).minNotation="",l()}),class:"ml-1 hover:text-yellow-600"},[r(a,{name:"heroicons:x-mark",class:"w-3 h-3"})])])):p("",!0)])):p("",!0)])}}}),re=M(se,[["__scopeId","data-v-3de8a147"]]);export{re as default};
