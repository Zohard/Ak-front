import w from"./DInSo1OZ.js";import{u as z}from"./DzvRhcSF.js";import{f as C,c as a,n as c,a as s,b as n,t as i,w as u,F as m,l as y,r as g,o,d as p,m as B,k as T,p as $}from"./Bes98wj2.js";const V={key:0,class:"space-y-6"},j={class:"flex items-center justify-between"},I={class:"text-xl font-semibold text-text"},S={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},N=["onClick"],q={class:"aspect-[3/4] relative overflow-hidden"},F={key:1,class:"w-full h-full bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900 dark:to-primary-800 flex items-center justify-center"},L={class:"absolute top-2 left-2"},R={key:2,class:"absolute top-2 right-2 bg-black/60 backdrop-blur-sm text-white px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1"},U={class:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 motion-reduce:transition-none flex items-center justify-center"},A={class:"p-3"},H={class:"font-medium text-text text-sm line-clamp-2 mb-2 group-hover:text-primary-600 transition-colors duration-200"},D={class:"flex items-center justify-between text-xs text-text-secondary"},E={key:0,class:"flex items-center gap-1"},P={key:1,class:"px-2 py-1 bg-surface-hover rounded-full text-xs capitalize"},G={key:1,class:"text-center py-8"},J={key:2,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},X=C({__name:"RelatedContent",props:{relations:{default:()=>[]},loading:{type:Boolean,default:!1},title:{}},setup(K){const{getImageUrl:f}=z(),h=t=>t?(t/10).toFixed(1):"0.0",_=t=>({adaptation:"Adaptation",sequel:"Suite",prequel:"Préquel",side_story:"Histoire parallèle",parent_story:"Histoire principale",alternative_version:"Version alternative",spin_off:"Spin-off",related:"Lié"})[t]||t,v=t=>t.toLowerCase().replace(/[àáâãäå]/g,"a").replace(/[èéêë]/g,"e").replace(/[ìíîï]/g,"i").replace(/[òóôõö]/g,"o").replace(/[ùúûü]/g,"u").replace(/[ýÿ]/g,"y").replace(/[ñ]/g,"n").replace(/[ç]/g,"c").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),x=t=>{const r=t.niceUrl||v(t.title),d=t.type==="anime"?`/anime/${r}-${t.id}`:`/manga/${r}-${t.id}`;$(d)};return(t,r)=>{const d=g("Badge"),b=w,l=g("Icon"),k=g("Button");return o(),a(m,null,[t.relations?.length?(o(),a("div",V,[s("div",j,[s("h3",I,i(t.title||"Contenus liés"),1),n(d,{variant:"secondary",class:"text-xs"},{default:u(()=>[p(i(t.relations.length)+" "+i(t.relations.length>1?"relations":"relation"),1)]),_:1})]),s("div",S,[(o(!0),a(m,null,y(t.relations,e=>(o(),a("div",{key:`${e.type}-${e.id}`,class:"group relative bg-surface rounded-lg overflow-hidden shadow-card hover:shadow-card-hover transition-all duration-300 hover:-translate-y-1 motion-reduce:transition-none motion-reduce:transform-none cursor-pointer",onClick:M=>x(e)},[s("div",q,[e.image?(o(),B(b,{key:0,src:T(f)(e.image,e.type),alt:e.title,"aspect-ratio":"3/4","container-class":"w-full h-full","image-class":"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 motion-reduce:transition-none motion-reduce:transform-none","placeholder-icon":e.type==="anime"?"heroicons:tv":"heroicons:book-open"},null,8,["src","alt","placeholder-icon"])):(o(),a("div",F,[n(l,{name:e.type==="anime"?"heroicons:tv":"heroicons:book-open",size:"xl",class:"text-primary-500 dark:text-primary-400"},null,8,["name"])])),s("div",L,[n(d,{variant:e.type==="anime"?"primary":"secondary",size:"xs",class:"capitalize font-medium"},{default:u(()=>[p(i(e.type),1)]),_:2},1032,["variant"])]),e.rating&&e.rating>0?(o(),a("div",R,[n(l,{name:"heroicons:star",variant:"solid",size:"xs",class:"text-yellow-400"}),s("span",null,i(h(e.rating)),1)])):c("",!0),s("div",U,[n(k,{variant:"secondary",size:"sm",rounded:"",class:"transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300 bg-white/90 backdrop-blur-sm text-gray-900 hover:bg-white"},{default:u(()=>[n(l,{name:"heroicons:eye",size:"xs",class:"mr-2"}),r[0]||(r[0]=p(" Voir ",-1))]),_:1,__:[0]})])]),s("div",A,[s("h4",H,i(e.title),1),s("div",D,[e.year?(o(),a("span",E,[n(l,{name:"heroicons:calendar",size:"xs"}),p(" "+i(e.year),1)])):c("",!0),e.relationType&&e.relationType!=="related"?(o(),a("span",P,i(_(e.relationType)),1)):c("",!0)])])],8,N))),128))])])):t.loading?c("",!0):(o(),a("div",G,[n(l,{name:"heroicons:link",size:"lg",class:"mx-auto text-text-muted mb-3"}),r[1]||(r[1]=s("p",{class:"text-text-muted"},"Aucun contenu lié trouvé",-1))])),t.loading?(o(),a("div",J,[(o(),a(m,null,y(4,e=>s("div",{key:e,class:"bg-surface rounded-lg overflow-hidden shadow-card animate-pulse"},r[2]||(r[2]=[s("div",{class:"aspect-[3/4] bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600"},null,-1),s("div",{class:"p-3 space-y-2"},[s("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),s("div",{class:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})],-1)]))),64))])):c("",!0)],64)}}});export{X as _};
