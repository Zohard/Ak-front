import{f as B,g,H as c,h as N,G as W,c as b,a as s,n as x,b as l,B as j,k as n,t as u,r as E,o as m,_ as F}from"./Bes98wj2.js";const L={class:"article-social-share"},O={class:"flex flex-wrap gap-3"},M={class:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700"},V={class:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400"},z={class:"flex items-center space-x-4"},D={key:0},H={class:"text-xs"},q=B({__name:"ArticleSocialShare",props:{title:{},url:{},description:{},image:{},via:{},hashtags:{}},setup(y){const t=y,r=g(!1),h=g(0),w=g(!1),v=c(()=>encodeURIComponent(t.title)),p=c(()=>encodeURIComponent(t.url)),k=c(()=>encodeURIComponent(t.description||"")),f=c(()=>{if(!t.description)return 0;const e=200,o=t.description.split(" ").length;return Math.ceil(o/e)}),C=c(()=>t.description?t.description.split(" ").length:0),$=()=>{const e=`https://www.facebook.com/sharer/sharer.php?u=${p.value}`;d(e),i("facebook")},I=()=>{let e=`https://twitter.com/intent/tweet?text=${v.value}&url=${p.value}`;t.via&&(e+=`&via=${encodeURIComponent(t.via)}`),t.hashtags&&t.hashtags.length>0&&(e+=`&hashtags=${encodeURIComponent(t.hashtags.join(","))}`),d(e),i("twitter")},_=()=>{const e=`https://www.linkedin.com/sharing/share-offsite/?url=${p.value}&title=${v.value}&summary=${k.value}`;d(e),i("linkedin")},U=()=>{const e=`${t.title} - ${t.url}`,o=`https://wa.me/?text=${encodeURIComponent(e)}`;d(o),i("whatsapp")},S=()=>{const e=encodeURIComponent(t.title),o=encodeURIComponent(`${t.description||""}

Lire l'article complet : ${t.url}`),a=`mailto:?subject=${e}&body=${o}`;window.location.href=a,i("email")},P=async()=>{try{await navigator.clipboard.writeText(t.url),r.value=!0,setTimeout(()=>{r.value=!1},2e3),i("clipboard")}catch(e){console.error("Failed to copy to clipboard:",e);const o=document.createElement("textarea");o.value=t.url,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),r.value=!0,setTimeout(()=>{r.value=!1},2e3)}},T=async()=>{if(navigator.share)try{await navigator.share({title:t.title,text:t.description||"",url:t.url}),i("native")}catch(e){console.log("Native sharing cancelled or failed:",e)}},d=e=>{const R=(window.innerWidth-600)/2,A=(window.innerHeight-400)/2;window.open(e,"share",`width=600,height=400,left=${R},top=${A},scrollbars=yes,resizable=yes`)},i=e=>{h.value++,console.log(`Article shared on ${e}:`,{title:t.title,url:t.url,platform:e}),typeof gtag<"u"&&gtag("event","share",{method:e,content_type:"article",item_id:t.url})};return N(()=>{w.value=!!navigator.share;const e=localStorage.getItem(`share-count-${t.url}`);e&&(h.value=parseInt(e,10)||0)}),W(h,e=>{localStorage.setItem(`share-count-${t.url}`,e.toString())}),(e,o)=>{const a=E("Icon");return m(),b("div",L,[o[6]||(o[6]=s("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Partager cet article ",-1)),s("div",O,[s("button",{onClick:$,class:"social-share-btn bg-blue-600 hover:bg-blue-700 text-white",title:"Partager sur Facebook"},[l(a,{name:"heroicons:square-2-stack",class:"w-4 h-4"}),o[0]||(o[0]=s("span",null,"Facebook",-1))]),s("button",{onClick:I,class:"social-share-btn bg-black hover:bg-gray-800 text-white",title:"Partager sur Twitter/X"},[l(a,{name:"heroicons:chat-bubble-bottom-center-text",class:"w-4 h-4"}),o[1]||(o[1]=s("span",null,"Twitter",-1))]),s("button",{onClick:_,class:"social-share-btn bg-blue-700 hover:bg-blue-800 text-white",title:"Partager sur LinkedIn"},[l(a,{name:"heroicons:briefcase",class:"w-4 h-4"}),o[2]||(o[2]=s("span",null,"LinkedIn",-1))]),s("button",{onClick:U,class:"social-share-btn bg-green-500 hover:bg-green-600 text-white",title:"Partager sur WhatsApp"},[l(a,{name:"heroicons:chat-bubble-oval-left",class:"w-4 h-4"}),o[3]||(o[3]=s("span",null,"WhatsApp",-1))]),s("button",{onClick:S,class:"social-share-btn bg-gray-600 hover:bg-gray-700 text-white",title:"Partager par email"},[l(a,{name:"heroicons:envelope",class:"w-4 h-4"}),o[4]||(o[4]=s("span",null,"Email",-1))]),s("button",{onClick:P,class:j(["social-share-btn transition-colors duration-200",n(r)?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-500 hover:bg-gray-600 text-white"]),title:"Copier le lien"},[l(a,{name:n(r)?"heroicons:check":"heroicons:link",class:"w-4 h-4"},null,8,["name"]),s("span",null,u(n(r)?"Copié !":"Copier"),1)],2),n(w)?(m(),b("button",{key:0,onClick:T,class:"social-share-btn bg-indigo-600 hover:bg-indigo-700 text-white",title:"Partager"},[l(a,{name:"heroicons:share",class:"w-4 h-4"}),o[5]||(o[5]=s("span",null,"Partager",-1))])):x("",!0)]),s("div",M,[s("div",V,[s("div",z,[n(f)?(m(),b("span",D,u(n(f))+" min de lecture",1)):x("",!0),s("span",null,u(n(C))+" mots",1)]),s("div",H," Partagé "+u(n(h))+" fois ",1)])])])}}}),X=F(q,[["__scopeId","data-v-8b325a72"]]);export{X as default};
